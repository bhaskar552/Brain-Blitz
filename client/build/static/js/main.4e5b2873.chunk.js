(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{68:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),s=a(33),r=a.n(s),i=a(8),l=a(4),o=Object(c.createContext)(),d=a(0),j=function(){var e=Object(c.useContext)(o),t=e.isAuthenticated,a=e.logout,n=e.user,s=Object(d.jsxs)(c.Fragment,{children:[Object(d.jsxs)("li",{children:["Hello, ",n&&n.name,"!"]}),Object(d.jsx)("li",{onClick:function(){a()},children:Object(d.jsx)(i.b,{to:"/signin",children:"Sign Out"})})]}),r=Object(d.jsxs)(c.Fragment,{children:[Object(d.jsx)("li",{children:Object(d.jsx)(i.b,{to:"/register",children:"Register"})}),Object(d.jsx)("li",{children:Object(d.jsx)(i.b,{to:"/signin",children:"Sign In"})})]});return Object(d.jsx)("nav",{children:Object(d.jsxs)("div",{className:"nav-wrapper",children:[Object(d.jsxs)("a",{href:"/",className:"brand-logo left",children:[Object(d.jsx)("i",{className:"material-icons",children:"memory"}),"Brain Blitz"]}),Object(d.jsx)("ul",{id:"nav-mobile",className:"right",children:t?s:r})]})})},u=a(3),b=Object(c.createContext)(),O=function(){var e=Object(c.useContext)(b),t=Object(c.useContext)(o),a=e.games,n=e.updateCurrentLevel,s=e.updateCurrentTheme,r=e.getGames,l=Object(c.useState)(""),j=Object(u.a)(l,2),O=j[0],m=j[1];Object(c.useEffect)((function(){t.loadUser(),r()}),[]),Object(c.useEffect)((function(){window.M.AutoInit()}));var h=function(e){var t=e[0].filter((function(t){return t.gameLevel===e[1]})).map((function(e){return e.numOfMoves}));return t.length>0?Math.floor(t.reduce((function(e,t){return e+t}))/t.length):"No games played"},p=function(e){n(e.target.name)},x=function(e){s(e.target.name),m(e.target.name)};return!t.loading&&Object(d.jsx)("div",{className:"row container",children:Object(d.jsx)("div",{className:"col s12",children:Object(d.jsxs)("div",{className:"card blue-grey darken-1 large",children:[Object(d.jsxs)("div",{className:"card-content white-text",children:[Object(d.jsxs)("span",{className:"center card-title hide-on-small-only",children:["You have played ",a.length," ",1===a.length?"game":"games"," so far!"]}),Object(d.jsxs)("span",{className:"center card-title hide-on-med-and-up",children:[a.length," ",1===a.length?"Game ":"Games ","Played!"]}),Object(d.jsx)("br",{}),Object(d.jsx)("span",{className:"center card-title hide-on-small-only",children:"Your Average Number of Moves:"}),Object(d.jsx)("span",{className:"center card-title hide-on-med-and-up",children:"Average Moves:"}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"row col s12",children:[Object(d.jsx)("div",{className:"col s4 center",children:Object(d.jsx)("u",{children:"Easy"})}),Object(d.jsx)("div",{className:"col s4 center",children:Object(d.jsx)("u",{children:"Medium"})}),Object(d.jsx)("div",{className:"col s4 center",children:Object(d.jsx)("u",{children:"Hard"})})]}),Object(d.jsxs)("div",{className:"row col s12",children:[Object(d.jsx)("div",{className:"col s4 center",children:Object(d.jsx)("p",{children:h([a,"beginner"])})}),Object(d.jsx)("div",{className:"col s4 center",children:Object(d.jsx)("p",{children:h([a,"intermediate"])})}),Object(d.jsx)("div",{className:"col s4 center",children:Object(d.jsx)("p",{children:h([a,"expert"])})})]}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("span",{className:"center card-title",children:"Start A New Game Below!"})]}),Object(d.jsxs)("div",{className:"row center-align",children:[Object(d.jsx)("a",{className:"dropdown-trigger btn blue-grey darken-1",href:"#","data-target":"dropdown1",children:O.length>0?O:"Choose A Theme!"}),Object(d.jsxs)("ul",{id:"dropdown1",className:"dropdown-content",children:[Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"#",onClick:x,name:"robots",className:"blue-grey-text text-darken-1",children:"Robots"})}),Object(d.jsx)("li",{className:"divider",tabIndex:"-1"}),Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"#",onClick:x,name:"cats",className:"blue-grey-text text-darken-1",children:"Cats"})}),Object(d.jsx)("li",{className:"divider",tabIndex:"-1"}),Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"#",onClick:x,name:"monsters",className:"blue-grey-text text-darken-1",children:"Monsters"})})]})]}),Object(d.jsxs)("div",{className:"col s12 card-action",children:[Object(d.jsx)("div",{className:"col s4 center",children:Object(d.jsx)(i.b,{to:"/game",className:"waves-effect waves-red btn-flat",name:"beginner",onClick:p,children:"Easy"})}),Object(d.jsx)("div",{className:"col s4 center",children:Object(d.jsxs)(i.b,{to:"/game",className:"waves-effect waves-red btn-flat",name:"intermediate",onClick:p,children:[Object(d.jsx)("span",{className:"hide-on-small-only",children:"Medium"}),Object(d.jsx)("span",{className:"hide-on-med-and-up",children:"Med"})]})}),Object(d.jsx)("div",{className:"col s4 center",children:Object(d.jsx)(i.b,{to:"/game",className:"waves-effect waves-red btn-flat",name:"expert",onClick:p,children:"Hard"})})]})]})})})},m=a(17),h=a(2),p=function(e){var t=Object(c.useContext)(o),a=t.login,n=t.error,s=t.clearErrors,r=t.isAuthenticated,i=Object(c.useState)({email:"",password:""}),l=Object(u.a)(i,2),j=l[0],b=l[1],O=j.email,p=j.password;Object(c.useEffect)((function(){r&&e.history.push("/"),"invalid credentials"===n&&(alert(n),s())}),[n,r,e.history]);var x=function(e){b(Object(h.a)(Object(h.a)({},j),{},Object(m.a)({},e.target.id,e.target.value)))};return Object(d.jsx)("div",{className:"container form-container",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("form",{className:"col s6",autoComplete:"off",onSubmit:function(e){e.preventDefault(),a({email:O,password:p})},children:[Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"input-field col s9 offset-s8",children:[Object(d.jsx)("input",{id:"email",type:"text",className:"validate",onChange:x,required:!0}),Object(d.jsx)("label",{htmlFor:"email",children:"Email"})]})}),Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"input-field col s9 offset-s8",children:[Object(d.jsx)("input",{id:"password",type:"password",className:"validate",onChange:x,required:!0}),Object(d.jsx)("label",{htmlFor:"password",children:"Password"})]})}),Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("button",{className:"btn waves-effect waves-light red lighten-2 col s9 m5 offset-s8 offset-m10",type:"submit",name:"action",children:["Sign In",Object(d.jsx)("i",{className:"material-icons right",children:"send"})]})})]})})})},x=function(e){var t=Object(c.useContext)(o),a=t.register,n=t.error,s=t.clearErrors,r=t.isAuthenticated,i=Object(c.useState)({name:"",email:"",password:""}),l=Object(u.a)(i,2),j=l[0],b=l[1],O=j.name,p=j.email,x=j.password;Object(c.useEffect)((function(){r&&e.history.push("/"),"Email already exists"===n&&(alert(n),s())}),[n,r,e.history]);var f=function(e){b(Object(h.a)(Object(h.a)({},j),{},Object(m.a)({},e.target.id,e.target.value)))};return Object(d.jsx)("div",{className:"container form-container",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("form",{className:"col s6",onSubmit:function(e){e.preventDefault(),a({name:O,email:p,password:x})},children:[Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"input-field col s9 offset-s8",children:[Object(d.jsx)("input",{id:"name",type:"text",className:"validate",onChange:f,required:!0}),Object(d.jsx)("label",{htmlFor:"user-name",children:"Username"})]})}),Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"input-field col s9 offset-s8",children:[Object(d.jsx)("input",{id:"email",type:"email",className:"validate",onChange:f,required:!0}),Object(d.jsx)("label",{htmlFor:"email",children:"Email"})]})}),Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"input-field col s9 offset-s8",children:[Object(d.jsx)("input",{id:"password",type:"password",className:"validate",onChange:f,required:!0}),Object(d.jsx)("label",{htmlFor:"password",children:"Password"})]})}),Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("button",{className:"btn waves-effect waves-light red lighten-2 col s9 m5 offset-s8 offset-m10",type:"submit",name:"action",children:["Register",Object(d.jsx)("i",{className:"material-icons right",children:"send"})]})})]})})})},f=a(14),v=function(e){var t=e.id,a=e.imageId,n=e.shownCards,s=e.cardClicked,r=e.source,i=Object(c.useState)(!1),l=Object(u.a)(i,2),o=l[0],j=l[1];Object(c.useEffect)((function(){var e=n.includes(t);j(e)}),[n]);return Object(d.jsx)("div",{id:t,imgid:a,className:"mem-card",style:{backgroundColor:o?"#D3D3D3":null,pointerEvents:o?"none":"auto"},onClick:function(e){s(e.target)},children:Object(d.jsx)("img",{id:t,imgid:a,alt:"card-figure",src:"https://robohash.org/".concat(a)+r,style:{visibility:o?"visible":"hidden"}})})},g=function(e){var t=e.updateActive,a=e.updateNumOfMoves,n=e.currentLevel,s=e.currentTheme,r=e.updateNewGame,i=Object(c.useState)([]),l=Object(u.a)(i,2),o=l[0],j=l[1],b=Object(c.useState)([]),O=Object(u.a)(b,2),m=O[0],h=O[1],p=Object(c.useState)([]),x=Object(u.a)(p,2),g=x[0],N=x[1],y=Object(c.useState)(!1),w=Object(u.a)(y,2),k=w[0],C=w[1],E=Object(c.useState)(1),S=Object(u.a)(E,2),A=S[0],R=S[1];Object(c.useEffect)((function(){var e;switch(n){case"beginner":default:e=12;break;case"intermediate":e=20;break;case"expert":e=30}for(var t=[],a=1;a<=e;a++){var c=void 0;c=a<=e/2?a:a-e/2,t.push({id:c})}t.sort((function(e,t){return.5-Math.random()})),j(t)}),[]);var T,L=0,G=0;switch(s){case"robots":default:T="?set=set1";break;case"cats":T="?set=set4";break;case"monsters":T="?set=set2"}var I=function(e){G=parseInt(e.getAttribute("imgid")),L=parseInt(e.id),0===g.length?(N((function(e){return[].concat(Object(f.a)(e),[G])})),h((function(e){return[].concat(Object(f.a)(e),[L])}))):(R(A+1),g.includes(G)?(h((function(e){return[].concat(Object(f.a)(e),[L])})),N([]),m.length===o.length-1&&(a(A),setTimeout((function(){r({gameLevel:n,numOfMoves:A,date:Date.now()}),t()}),1e3))):(C(!0),h((function(e){return[].concat(Object(f.a)(e),[L])})),N([]),setTimeout((function(){var e=Object(f.a)(m);e.splice(-1,1),h(e),C(!1)}),2e3)))},M=function(){console.log("nope!")};return Object(d.jsx)("div",{className:"mem-cards-container",style:{maxWidth:"beginner"===n?"500px":"intermediate"===n?"600px":"700px"},children:o.map((function(e,t){return Object(d.jsx)(v,{id:t,imageId:e.id,shownCards:m,cardClicked:k?M:I,source:T},t)}))})},N=function(){var e=Object(c.useContext)(b),t=Object(c.useContext)(o),a=e.currentLevel,n=e.currentTheme,s=e.addNewGame,r=Object(c.useState)(!0),l=Object(u.a)(r,2),j=l[0],O=l[1],m=Object(c.useState)(0),h=Object(u.a)(m,2),p=h[0],x=h[1],f=Object(c.useState)({gameLevel:"",numOfMoves:0,date:Date.now()}),v=Object(u.a)(f,2),N=v[0],y=v[1];Object(c.useEffect)((function(){t.loadUser()}),[]);return!t.loading&&Object(d.jsx)("div",{className:"game-board",children:j?Object(d.jsx)(g,{updateActive:function(){O(!j)},updateNumOfMoves:function(e){x(e)},currentLevel:a,currentTheme:n,updateNewGame:function(e){y(e)}}):Object(d.jsx)("div",{className:"row container",children:Object(d.jsx)("div",{className:"col s12",children:Object(d.jsx)("div",{className:"card blue-grey darken-1 small",children:Object(d.jsxs)("div",{className:"card-content white-text",children:[Object(d.jsx)("span",{className:"center card-title",children:"Congratulations!"}),Object(d.jsx)("br",{}),Object(d.jsxs)("span",{className:"center card-title",children:["You won in ",p," moves!"]}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"col s12 card-action",children:Object(d.jsx)("div",{className:"col s12 center",children:Object(d.jsx)(i.b,{to:"/",className:"waves-effect waves-red btn-flat",onClick:function(e){s(N)},children:"End Game"})})})]})})})})})},y=a(35),w=["component"],k=function(e){var t=e.component,a=Object(y.a)(e,w),n=Object(c.useContext)(o),s=n.isAuthenticated,r=n.loading;return Object(d.jsx)(l.b,Object(h.a)(Object(h.a)({},a),{},{render:function(e){return s||r?Object(d.jsx)(t,Object(h.a)({},e)):Object(d.jsx)(l.a,{to:"/signin"})}}))},C=a(10),E=a(16),S=a(12),A=a.n(S),R="UPDATE_CURRENT_LEVEL",T="UPDATE_CURRENT_THEME",L="ADD_NEW_GAME",G="GAME_ERROR",I="REGISTER_SUCCESS",M="REGISTER_FAIL",_="USER_LOADED",D="AUTH_ERROR",U="LOGIN_SUCCESS",F="LOGIN_FAIL",P="LOGOUT",q="CLEAR_ERRORS",H="GET_GAMES",B=function(e,t){switch(t.type){case H:return Object(h.a)(Object(h.a)({},e),{},{games:t.payload});case R:return Object(h.a)(Object(h.a)({},e),{},{currentLevel:t.payload});case T:return Object(h.a)(Object(h.a)({},e),{},{currentTheme:t.payload});case L:return Object(h.a)(Object(h.a)({},e),{},{games:[].concat(Object(f.a)(e.games),[t.payload])});case G:return Object(h.a)(Object(h.a)({},e),{},{error:t.payload});default:return e}},Y=function(e){var t=Object(c.useReducer)(B,{games:[],currentLevel:"beginner",currentTheme:"robots",error:null}),a=Object(u.a)(t,2),n=a[0],s=a[1],r=function(){var e=Object(E.a)(Object(C.a)().mark((function e(){var t;return Object(C.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/api/history");case 3:t=e.sent,s({type:H,payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s({type:G,payload:e.t0.response.msg});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(E.a)(Object(C.a)().mark((function e(t){var a,c;return Object(C.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={header:{"Content-type":"application/json"}},e.prev=1,e.next=4,A.a.post("/api/history",t,a);case 4:c=e.sent,s({type:L,payload:c.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s({type:G,payload:e.t0.response.msg});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsx)(b.Provider,{value:{games:n.games,currentLevel:n.currentLevel,currentTheme:n.currentTheme,error:n.error,updateCurrentLevel:function(e){s({type:R,payload:e})},updateCurrentTheme:function(e){s({type:T,payload:e})},addNewGame:i,getGames:r},children:e.children})},J=function(e,t){switch(t.type){case _:return Object(h.a)(Object(h.a)({},e),{},{isAuthenticated:!0,loading:!1,user:t.payload});case I:case U:return localStorage.setItem("token",t.payload.token),Object(h.a)(Object(h.a)(Object(h.a)({},e),t.payload),{},{isAuthenticated:!0,loading:!1});case M:case D:case F:case P:return localStorage.removeItem("token"),Object(h.a)(Object(h.a)({},e),{},{token:null,isAuthenticated:!1,loading:!1,user:null,error:t.payload});case q:return Object(h.a)(Object(h.a)({},e),{},{error:null});default:return e}},W=function(e){e?A.a.defaults.headers.common["x-auth-token"]=e:delete A.a.defaults.headers.common["x-auth-token"]},z=function(e){var t={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null,error:null},a=Object(c.useReducer)(J,t),n=Object(u.a)(a,2),s=n[0],r=n[1],i=function(){var e=Object(E.a)(Object(C.a)().mark((function e(){var t;return Object(C.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&W(localStorage.token),e.prev=1,e.next=4,A.a.get("/api/auth");case 4:t=e.sent,r({type:_,payload:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r({type:D,payload:e.t0.response.data.msg});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(E.a)(Object(C.a)().mark((function e(t){var a,c;return Object(C.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={header:{"Content-Type":"application/json"}},e.prev=1,e.next=4,A.a.post("/api/users",t,a);case 4:c=e.sent,r({type:I,payload:c.data}),i(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),r({type:M,payload:e.t0.response.data.msg});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(E.a)(Object(C.a)().mark((function e(t){var a,c;return Object(C.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={header:{"Content-Type":"application/json"}},e.prev=1,e.next=4,A.a.post("/api/auth",t,a);case 4:c=e.sent,r({type:U,payload:c.data}),i(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),r({type:F,payload:e.t0.response.data.msg});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsx)(o.Provider,{value:{token:s.token,isAuthenticated:s.isAuthenticated,loading:s.loading,user:s.user,error:s.error,register:l,clearErrors:function(){r({type:q})},loadUser:i,login:j,logout:function(){r({type:P})}},children:e.children})};a(68);localStorage.token&&W(localStorage.token);var V=function(){return Object(d.jsx)(z,{children:Object(d.jsx)(Y,{children:Object(d.jsx)(i.a,{children:Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(j,{}),Object(d.jsx)("div",{className:"Routes",children:Object(d.jsxs)(l.d,{children:[Object(d.jsx)(k,{exact:!0,path:"/",component:O}),Object(d.jsx)(l.b,{exact:!0,path:"/signin",component:p}),Object(d.jsx)(l.b,{exact:!0,path:"/register",component:x}),Object(d.jsx)(k,{exact:!0,path:"/game",component:N})]})})]})})})})};r.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(V,{})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.4e5b2873.chunk.js.map